{"version":3,"sources":["file:///C:/Users/PC%20GM/Desktop/Jobs/IkamePA/ikame_pa_test/assets/Scripts/Controller/UIGameController.ts"],"names":["_decorator","Animation","Color","Component","easing","instantiate","Label","log","math","Node","Prefab","tween","GameInfo","SoundController","CONST","GameController","LogicGamePlay","ccclass","property","UIGameController","start","TouchArea_Banking","active","TouchArea_GiveTheChange","registerEvent","Desk","children","forEach","child","index","name","includes","ItemPositions","push","getPosition","Btn_Ok","on","EventType","TOUCH_START","btnBehaviorTouchStart","Btn_Reset","Btn_OkBanking","btnBankingTouchStart","e","isCanTouch","currentFailedClick","IsShowPopupInstall","installHandle","target","Instance","PlaySound","SoundTrack","clickSound","currentDollarGive","currentCenGive","deleteMoneyOnTheDesk","result","CheckGameResult","emoji_haha","Emoji","getChildByName","emoji_angry","getComponent","play","completePayment","currentSuccessClick","currentTotalCost","currentReceive","winSound","loseSound","scheduleOnce","currentBankingInput","updateTotalLabel","dollar","PcScreen_TotalLabel","string","updateReceiveLabel","PcScreen_ReceiveLabel","updateChangeLabel","currentChange","String","Number","PcScreen_ChangeLabel","updateGiveLabel","cen","PcScreen_GiveLabel","color","updatePcScreen","updatebankingLabel","BankingLabel","updateItemOnDesk","isNPCDoneMove","PcScreen_Change","PcScreen_Give","PcScreen_Receive","currentItems","Items","placeSound","Tut_2","updateMoneyGiveBackOnDesk","currentDollarGiveBack","lastDollarGiveBack","randomPos","randomRangeInt","moneyGiveBack","GiveMoney","x","y","z","setPosition","parent","moneyGiveBackInstantiated","to","position","smooth","currentCenGiveBack","lastCenGiveBack","length","element","removeFromParent","update","dt"],"mappings":"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","sourcesContent":["\r\nimport { _decorator, Animation, Color, Component, easing, Event, EventTouch, Graphics, instantiate, Label, log, math, Node, Prefab, tween, Vec3 } from 'cc';\r\nimport { GameInfo } from '../Const/GameInfo';\r\nimport { SoundController } from './SoundController';\r\nimport { CONST } from '../Const/CONST';\r\nimport { GameController } from './GameController';\r\nimport { LogicGamePlay } from '../Others/HandleLogicGamePlay';\r\nconst { ccclass, property } = _decorator;\r\n\r\n/**\r\n * Predefined variables\r\n * Name = UIGameController\r\n * DateTime = Mon Aug 26 2024 14:14:13 GMT+0700 (Indochina Time)\r\n * Author = hoanghiep2001\r\n * FileBasename = UIGameController.ts\r\n * FileBasenameNoExtension = UIGameController\r\n * URL = db://assets/Scripts/Controller/UIGameController.ts\r\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/en/\r\n *\r\n */\r\n\r\n@ccclass('UIGameController')\r\nexport class UIGameController extends Component {\r\n\r\n    @property(GameController)\r\n    GameController: GameController = null;\r\n\r\n    @property(Node)\r\n    Canvas: Node = null;\r\n\r\n    @property(Node)\r\n    TouchArea: Node = null;\r\n\r\n    @property(Node)\r\n    TouchArea_GiveTheChange: Node = null;\r\n\r\n    @property(Node)\r\n    TouchArea_Banking: Node = null;\r\n\r\n    @property(Label)\r\n    BankingLabel: Label = null;\r\n\r\n    @property(Node)\r\n    PcScreen_Change: Node = null;\r\n    @property(Node)\r\n    PcScreen_Give: Node = null;\r\n    @property(Node)\r\n    PcScreen_Receive: Node = null;\r\n\r\n    @property(Label)\r\n    PcScreen_TotalLabel: Label = null;\r\n\r\n    @property(Label)\r\n    PcScreen_ReceiveLabel: Label = null;\r\n\r\n    @property(Label)\r\n    PcScreen_ChangeLabel: Label = null;\r\n\r\n    @property(Label)\r\n    PcScreen_GiveLabel: Label = null;\r\n\r\n    @property(Node)\r\n    Btn_Ok: Node = null;\r\n\r\n    @property(Node)\r\n    Btn_Reset: Node = null;\r\n\r\n    @property(Node)\r\n    Btn_OkBanking: Node = null;\r\n\r\n    @property(Node)\r\n    Emoji: Node = null;\r\n\r\n    @property(Node)\r\n    Tut_1: Node = null;\r\n\r\n    @property(Node)\r\n    Tut_2: Node = null;\r\n\r\n    // 3D\r\n    @property(Node)\r\n    Desk: Node = null;\r\n\r\n    @property([Node])\r\n    Items: Node[] = [];\r\n\r\n    ItemPositions: Vec3[] = [];\r\n\r\n    @property([Prefab])\r\n    GiveMoney: Prefab[] = [];\r\n\r\n    moneyGiveBackInstantiated: Node[] = [];\r\n\r\n    // @property(Node)\r\n    // CTA: Node = null;\r\n\r\n\r\n\r\n    protected start(): void {\r\n\r\n        this.TouchArea_Banking.active = false;\r\n        this.TouchArea_GiveTheChange.active = false;\r\n\r\n        this.registerEvent();\r\n\r\n        this.Desk.children.forEach((child, index) => {\r\n            child.name.includes(\"Point_\") && this.ItemPositions.push(child.getPosition());\r\n        });\r\n    }\r\n\r\n\r\n    public registerEvent(): void {\r\n        this.Btn_Ok.on(Node.EventType.TOUCH_START, this.btnBehaviorTouchStart, this);\r\n        this.Btn_Reset.on(Node.EventType.TOUCH_START, this.btnBehaviorTouchStart, this);\r\n        this.Btn_OkBanking.on(Node.EventType.TOUCH_START, this.btnBankingTouchStart, this);\r\n    }\r\n\r\n\r\n    private btnBehaviorTouchStart(e: EventTouch): void {\r\n        if (!GameInfo.isCanTouch) return;\r\n\r\n        if (GameInfo.currentFailedClick >= 3 || GameInfo.IsShowPopupInstall) {\r\n            this.GameController.installHandle();\r\n            return;\r\n        }\r\n\r\n        let target: Node = e.target;\r\n\r\n        SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.clickSound);\r\n\r\n        if (target.name === \"btn_reset\") {\r\n            GameInfo.currentDollarGive = 0;\r\n            GameInfo.currentCenGive = 0;\r\n            this.deleteMoneyOnTheDesk();\r\n        }\r\n\r\n        else {\r\n            GameInfo.isCanTouch = false;\r\n\r\n            let result: boolean = LogicGamePlay.CheckGameResult(),\r\n                emoji_haha: Node = this.Emoji.getChildByName(\"Haha\"),\r\n                emoji_angry: Node = this.Emoji.getChildByName(\"Angry\");\r\n            log(\"check Game Result: \", result);\r\n\r\n            this.Emoji.getComponent(Animation).play();\r\n\r\n            if (result) {\r\n                GameInfo.completePayment = true;\r\n                GameInfo.currentSuccessClick += 1;\r\n                GameInfo.currentTotalCost = 0;\r\n                GameInfo.currentReceive = 0;\r\n                GameInfo.currentDollarGive = 0;\r\n                GameInfo.currentCenGive = 0;\r\n                emoji_haha.active = true;\r\n                this.TouchArea_GiveTheChange.active = false;\r\n                this.deleteMoneyOnTheDesk();\r\n                SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.winSound);\r\n            }\r\n            else {\r\n                emoji_angry.active = true;\r\n                GameInfo.currentFailedClick += 1;\r\n                SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.loseSound);\r\n            }\r\n\r\n            this.scheduleOnce(() => {\r\n                GameInfo.isCanTouch = true;\r\n                emoji_haha.active = false;\r\n                emoji_angry.active = false;\r\n            }, 1.5);\r\n        }\r\n    }\r\n\r\n\r\n    private btnBankingTouchStart(): void {\r\n        if (!GameInfo.isCanTouch) return;\r\n\r\n        if (GameInfo.currentFailedClick >= 3 || GameInfo.IsShowPopupInstall) {\r\n            this.GameController.installHandle();\r\n            return;\r\n        }\r\n\r\n        SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.clickSound);\r\n\r\n        GameInfo.currentDollarGive = 0;\r\n\r\n        GameInfo.currentCenGive = 0;\r\n\r\n        GameInfo.isCanTouch = false;\r\n\r\n        let result: boolean = LogicGamePlay.CheckGameResult(),\r\n            emoji_haha: Node = this.Emoji.getChildByName(\"Haha\"),\r\n            emoji_angry: Node = this.Emoji.getChildByName(\"Angry\");\r\n        log(\"check Game Result: \", result);\r\n\r\n        this.Emoji.getComponent(Animation).play();\r\n\r\n        // if the money is correct then done step\r\n        if (result) {\r\n            GameInfo.completePayment = true;\r\n            GameInfo.currentSuccessClick += 1;\r\n            GameInfo.currentTotalCost = 0;\r\n            GameInfo.currentReceive = 0;\r\n            GameInfo.currentDollarGive = 0;\r\n            GameInfo.currentCenGive = 0;\r\n            GameInfo.currentBankingInput = ``;\r\n            emoji_haha.active = true;\r\n            this.TouchArea_GiveTheChange.active = false;\r\n            this.TouchArea_Banking.active = false;\r\n            this.deleteMoneyOnTheDesk();\r\n            SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.winSound);\r\n        }\r\n\r\n        // else angry\r\n        else {\r\n            emoji_angry.active = true;\r\n            GameInfo.currentBankingInput = ``;\r\n            GameInfo.currentFailedClick += 1;\r\n            SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.loseSound);\r\n        }\r\n\r\n        this.scheduleOnce(() => {\r\n            GameInfo.isCanTouch = true;\r\n            emoji_haha.active = false;\r\n            emoji_angry.active = false;\r\n        }, 1.5);\r\n\r\n    }\r\n\r\n\r\n    private updateTotalLabel(): void {\r\n        let dollar: string = null;\r\n\r\n        if (GameInfo.currentTotalCost < 10) dollar = `0${GameInfo.currentTotalCost}`;\r\n        else dollar = `${GameInfo.currentTotalCost}`;\r\n\r\n        this.PcScreen_TotalLabel.string = `$${dollar}.00`;\r\n    }\r\n\r\n\r\n    private updateReceiveLabel(): void {\r\n        let dollar: string = null;\r\n\r\n        if (GameInfo.currentReceive < 10) dollar = `0${GameInfo.currentReceive}`;\r\n        else dollar = `${GameInfo.currentReceive}`;\r\n\r\n        this.PcScreen_ReceiveLabel.string = `$${dollar}.00`;\r\n    }\r\n\r\n\r\n    private updateChangeLabel(): void {\r\n        GameInfo.currentChange = GameInfo.currentReceive - GameInfo.currentTotalCost;\r\n        let dollar: string = String(GameInfo.currentReceive - GameInfo.currentTotalCost);\r\n\r\n        if (GameInfo.currentReceive > 0) {\r\n            if (GameInfo.currentChange < 10) dollar = `0${Number(GameInfo.currentReceive - GameInfo.currentTotalCost)}`;\r\n            else dollar = `${Number(GameInfo.currentReceive - GameInfo.currentTotalCost)}`;\r\n        }\r\n\r\n        if (Number(dollar) <= 0) dollar = `00`;\r\n\r\n        this.PcScreen_ChangeLabel.string = `$${dollar}.00`;\r\n    }\r\n\r\n\r\n    private updateGiveLabel(): void {\r\n        let dollar: string = null;\r\n        let cen: string = null;\r\n\r\n        if (GameInfo.currentDollarGive < 10) dollar = `0${GameInfo.currentDollarGive}`;\r\n        else dollar = `${GameInfo.currentDollarGive}`;\r\n        if (GameInfo.currentCenGive < 10) cen = `0${GameInfo.currentCenGive}`;\r\n        else cen = `${GameInfo.currentCenGive}`;\r\n\r\n        if (GameInfo.currentDollarGive === GameInfo.currentChange\r\n            && GameInfo.currentCenGive === 0) this.PcScreen_GiveLabel.color = new Color(60, 253, 52, 255);\r\n        else this.PcScreen_GiveLabel.color = new Color(253, 68, 52, 255);\r\n\r\n        this.PcScreen_GiveLabel.string = `$${dollar}.${cen}`;\r\n    }\r\n\r\n\r\n    private updatePcScreen(): void {\r\n        this.updateTotalLabel();\r\n        this.updateReceiveLabel();\r\n        this.updateChangeLabel();\r\n        this.updateGiveLabel();\r\n    }\r\n\r\n\r\n    private updatebankingLabel(): void {\r\n        this.BankingLabel.string = GameInfo.currentBankingInput;\r\n    }\r\n\r\n\r\n    private updateItemOnDesk(): void {\r\n        if (GameInfo.isNPCDoneMove) {\r\n\r\n            GameInfo.isNPCDoneMove = false;\r\n\r\n            GameInfo.isCanTouch = true;\r\n\r\n            this.PcScreen_Change.active = true;\r\n\r\n            this.PcScreen_Give.active = true;\r\n\r\n            this.PcScreen_Receive.active = true;\r\n\r\n            switch (GameInfo.currentSuccessClick) {\r\n                case 1:\r\n                    GameInfo.currentItems = 1;\r\n                    this.Items[0].active = true;\r\n                    SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.placeSound);\r\n                    this.scheduleOnce(() => this.Tut_2.active = true, 0.5);\r\n                    break;\r\n                case 2:\r\n                    GameInfo.currentItems = 2;\r\n                    this.Items[1].active = true;\r\n                    SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.placeSound);\r\n\r\n                    this.scheduleOnce(() => {\r\n                        this.Items[2].active = true;\r\n                        SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.placeSound);\r\n                        this.Tut_2.active = true;\r\n                    }, 0.5)\r\n                    break;\r\n                case 3:\r\n                    GameInfo.currentItems = 3;\r\n                    this.Items[3].active = true;\r\n                    SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.placeSound);\r\n\r\n                    this.scheduleOnce(() => {\r\n                        this.Items[4].active = true;\r\n                        SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.placeSound);\r\n                    }, 0.3);\r\n\r\n                    this.scheduleOnce(() => {\r\n                        this.Items[5].active = true;\r\n                        SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.placeSound);\r\n                        this.Tut_2.active = true;\r\n                    }, 0.5);\r\n                    break;\r\n                case 4:\r\n                    GameInfo.currentItems = 2;\r\n                    this.Items[6].active = true;\r\n                    SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.placeSound);\r\n\r\n                    this.scheduleOnce(() => {\r\n                        this.Items[7].active = true;\r\n                        SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.placeSound);\r\n                        this.Tut_2.active = true;\r\n                    }, 0.5)\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private updateMoneyGiveBackOnDesk(): void {\r\n        if (GameInfo.currentDollarGiveBack !== GameInfo.lastDollarGiveBack) {\r\n            GameInfo.lastDollarGiveBack += 1;\r\n\r\n            let randomPos = math.randomRangeInt(1, 6);\r\n\r\n            let moneyGiveBack = instantiate(this.GiveMoney[0]);\r\n\r\n            let x = this.ItemPositions[0].x;\r\n            let y = this.ItemPositions[0].y;\r\n            let z = this.ItemPositions[0].z;\r\n\r\n            moneyGiveBack.setPosition(x, y, z);\r\n            moneyGiveBack.parent = this.Desk;\r\n            this.moneyGiveBackInstantiated.push(moneyGiveBack);\r\n\r\n            tween(moneyGiveBack)\r\n                .to(0.15, { position: this.ItemPositions[randomPos] }, { easing: easing.smooth })\r\n                .start();\r\n        }\r\n\r\n        if (GameInfo.currentCenGiveBack !== GameInfo.lastCenGiveBack) {\r\n            GameInfo.lastCenGiveBack += 1;\r\n\r\n            let randomPos = math.randomRangeInt(1, 6);\r\n\r\n            let moneyGiveBack = instantiate(this.GiveMoney[1]);\r\n\r\n            let x = this.ItemPositions[0].x;\r\n            let y = this.ItemPositions[0].y;\r\n            let z = this.ItemPositions[0].z;\r\n\r\n            moneyGiveBack.setPosition(x, y, z);\r\n            moneyGiveBack.parent = this.Desk;\r\n            this.moneyGiveBackInstantiated.push(moneyGiveBack);\r\n\r\n            tween(moneyGiveBack)\r\n                .to(0.15, { position: this.ItemPositions[randomPos] }, { easing: easing.smooth })\r\n                .start();\r\n        }\r\n    }\r\n\r\n\r\n    private deleteMoneyOnTheDesk(): void {\r\n        for (let index = 0; index < this.moneyGiveBackInstantiated.length; index++) {\r\n            const element = this.moneyGiveBackInstantiated[index];\r\n            element.removeFromParent();\r\n            element.active = false;\r\n        }\r\n        this.moneyGiveBackInstantiated = [];\r\n    }\r\n\r\n\r\n    protected update(dt: number): void {\r\n\r\n        this.updatePcScreen();\r\n\r\n        this.updatebankingLabel();\r\n\r\n        this.updateItemOnDesk();\r\n\r\n        this.updateMoneyGiveBackOnDesk();\r\n\r\n        // if((GameInfo.isWin || GameInfo.isLose) && !GameInfo.IsShowPopupInstall) this.showCTATextContent();\r\n    }\r\n}\r\n\r\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/en/scripting/decorator.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/en/scripting/life-cycle-callbacks.html\r\n */\r\n"]}