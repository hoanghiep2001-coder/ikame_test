{"version":3,"sources":["file:///C:/Users/PC%20GM/Desktop/Jobs/IkamePA/ikame_pa_test/assets/Scripts/Money/MoneyBehavior.ts"],"names":["_decorator","Component","easing","log","Node","tween","Vec3","GameInfo","SoundController","CONST","ccclass","property","MoneyBehavior","start","registerEvent","node","on","EventType","TOUCH_START","touchStart","TOUCH_END","touchEnd","bounceAnim","startScaLe","bounceScale","x","y","z","parent","to","scale","smooth","Instance","PlaySound","SoundTrack","clickSound","name","handleBankingPayment","handleCashPayment","newInput","currentBankingInput","slice","concat","lastDollarGiveBack","currentDollarGiveBack","currentDollarGive","Number","lastCenGiveBack","currentCenGiveBack","currentCenGive"],"mappings":"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","sourcesContent":["\nimport { _decorator, Component, easing, log, Node, tween, Vec3 } from 'cc';\nimport { GameInfo } from '../Const/GameInfo';\nimport { SoundController } from '../Controller/SoundController';\nimport { CONST } from '../Const/CONST';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = MoneyBehavior\n * DateTime = Fri Nov 22 2024 15:46:51 GMT+0700 (Indochina Time)\n * Author = hoanghiep2001\n * FileBasename = MoneyBehavior.ts\n * FileBasenameNoExtension = MoneyBehavior\n * URL = db://assets/Scripts/Money/MoneyBehavior.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/en/\n *\n */\n \n@ccclass('MoneyBehavior')\nexport class MoneyBehavior extends Component {\n\n\n    protected start(): void {\n        this.registerEvent();\n        // log(\"ahihi\", this.node.name)\n    }\n\n\n    private registerEvent(): void {\n        this.node.on(Node.EventType.TOUCH_START, this.touchStart, this);\n        this.node.on(Node.EventType.TOUCH_END, this.touchEnd, this);\n    }\n\n\n    private bounceAnim(): void {\n        let startScaLe = new Vec3(1, 1, 1);\n        let bounceScale = new Vec3(startScaLe.x - 0.05, startScaLe.y - 0.05, startScaLe.z - 0.05);\n\n        tween(this.node.parent)\n        .to(0.1, {scale: bounceScale}, {easing: easing.smooth})\n        .to(0.1, {scale: startScaLe}, {easing: easing.smooth})\n        .start();\n    }\n\n\n    private touchStart(): void {\n        SoundController.Instance(SoundController).PlaySound(CONST.SoundTrack.clickSound);\n\n        // if parent's name of btn is \"Nums\", active input banking. else active cash payment\n        if(this.node.parent.name === \"Nums\") this.handleBankingPayment();\n        else this.handleCashPayment();\n    }\n\n\n    private handleBankingPayment(): void {\n        // log(GameInfo.currentBankingInput.slice(0, -1))\n        if(this.node.name === \"del\") {\n            let newInput = GameInfo.currentBankingInput.slice(0, -1);\n            GameInfo.currentBankingInput = newInput;\n        }\n        else GameInfo.currentBankingInput = GameInfo.currentBankingInput.concat(this.node.name);\n    }\n\n\n    private handleCashPayment(): void {\n        this.bounceAnim();\n\n        if(this.node.parent.parent.name === \"dollar\") {\n            GameInfo.lastDollarGiveBack = GameInfo.currentDollarGiveBack\n            GameInfo.currentDollarGiveBack += 1;\n            GameInfo.currentDollarGive += Number(this.node.name);\n        }\n        else {\n            GameInfo.lastCenGiveBack = GameInfo.currentCenGiveBack\n            GameInfo.currentCenGiveBack += 1;\n            GameInfo.currentCenGive += Number(this.node.name);\n        }\n\n        if(GameInfo.currentCenGive >= 100) {\n            GameInfo.currentDollarGive += 1;\n            GameInfo.currentCenGive -= 100;\n        }\n       \n        log(GameInfo.currentDollarGive, GameInfo.currentCenGive);\n    }\n\n\n    private touchEnd(): void {\n        // GameInfo.moneyUserTouching = Number(this.node.name);\n\n        // log(GameInfo.moneyUserTouching);\n    }\n\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/en/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/en/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/en/scripting/life-cycle-callbacks.html\n */\n"]}